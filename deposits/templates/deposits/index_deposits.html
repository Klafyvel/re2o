{% extends 'deposits/sidebar.html' %}
{% comment %}
Re2o est un logiciel d'administration développé initiallement au Rézo Metz. Il
se veut agnostique au réseau considéré, de manière à être installable en
quelques clics.

Copyright © 2021  Jean-Romain Garnier

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
{% endcomment %}

{% load acl %}
{% load i18n %}
{% load logs_extra %}

{% block content %}
<h2>{% trans "List of deposits" %}</h2>

<div class="container-fluid">
<hr class="col-sm-12">
  <div class="row justify-content-start">
    <div class="col-sm-6">
      <span class="badge badge-light">&nbsp;{{ nbr_deposits }}</span> {% blocktrans count nb=nbr_deposits %}Deposit{% plural %}Deposits{% endblocktrans %}
    </div>
    <div class="col-sm-6">
      <span class="badge badge-light">&nbsp;{{ nbr_deposits_lent }}</span> {% blocktrans count nb=nbr_deposits_lent %}Unreturned deposit{% plural %}Unreturned deposits{% endblocktrans %}
    </div>
  </div>
<hr class="col-sm-12">
</div>

<div id="unreturned_deposits">
    <h3>{% trans "Unreturned deposits" %}</h2>
    {% include 'deposits/aff_deposits.html' with deposits_list=lent_deposits_list show_pagination=False %}

    {% if lent_deposits_list.paginator %}
        {% include 'pagination.html' with list=lent_deposits_list page_arg='lpage' go_to_id='unreturned_deposits' %}
    {% endif %}
</div>

<hr/>

<div id="returned_deposits">
    <h3>{% trans "Returned deposits" %}</h2>
    {% include 'deposits/aff_deposits.html' with deposits_list=returned_deposits_list show_pagination=False %}

    {% if returned_deposits_list.paginator %}
        {% include 'pagination.html' with list=returned_deposits_list page_arg='rpage' go_to_id='returned_deposits' %}
    {% endif %}
</div>

{% endblock %}
