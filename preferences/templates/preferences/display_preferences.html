{% extends "preferences/sidebar.html" %}
{% comment %}
Re2o est un logiciel d'administration développé initiallement au rezometz. Il
se veut agnostique au réseau considéré, de manière à être installable en
quelques clics.

Copyright © 2017  Gabriel Détraz
Copyright © 2017  Goulven Kermarec
Copyright © 2017  Augustin Lemesle

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
{% endcomment %}

{% load bootstrap3 %}
{% load acl %}
{% load design %}
{% load i18n %}

{% block title %}{% trans "Preferences" %}{% endblock %}

{% block content %}
    <h4>{% trans "User preferences" %}</h4>
    <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'OptionalUser' %}">
        <i class="fa fa-edit"></i>
        {% trans "Edit" %}
    </a>
    <table class="table table-striped">
        <tr>
            <th>{% trans "Telephone number required" %}</th>
            <td>{{ useroptions.is_tel_mandatory|tick }}</td>
            <th>{% trans "Self registration" %}</th>
            <td>{{ useroptions.self_adhesion|tick }}</td>
        </tr>
        <tr>
            <th>{% trans "Default shell for users" %}</th>
            <td>{{ useroptions.shell_default }}</td>       
            <th>{% trans "Users can edit their shell" %}</th>
            <td>{{ useroptions.self_change_shell|tick }}</td>
        </tr>
        <tr>
            <th>{% trans "Creation of members by everyone" %}</th>
            <td>{{ useroptions.all_can_create_adherent|tick }}</td>
            <th>{% trans "Creation of clubs by everyone" %}</th>
            <td>{{ useroptions.all_can_create_club|tick }}</td>
        </tr>
        <tr>
            <th>{% trans "GPG fingerprint field" %}</th>
            <td>{{ useroptions.gpg_fingerprint|tick }}</td>
        </tr>
    </table>
    <h5>{% trans "Email accounts preferences" %}
    <table class="table table-striped">
        <tr>
            <th>{% trans "Local email accounts enabled" %}</th>
            <td>{{ useroptions.local_email_accounts_enabled|tick }}</td>
            <th>{% trans "Local email domain" %}</th>
            <td>{{ useroptions.local_email_domain }}</td>
        </tr>
        <tr>
            <th>{% trans "Maximum number of email aliases allowed" %}</th>
            <td>{{ useroptions.max_email_address }}</td>
        </tr>
    </table>
    <h4>{% trans "Machines preferences" %}</h4>
    <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'OptionalMachine' %}">
        <i class="fa fa-edit"></i>
        {% trans "Edit" %}
    </a>
    <p>
    </p>
    <table class="table table-striped">
        <tr>
            <th>{% trans "Password per machine" %}</th>
            <td>{{ machineoptions.password_machine|tick }}</td>
            <th>{% trans "Maximum number of interfaces allowed for a standard user" %}</th>
            <td>{{ machineoptions.max_lambdauser_interfaces }}</td>
        </tr>
        <tr>
            <th>{% trans "Maximum number of DNS aliases allowed for a standard user" %}</th>
            <td>{{ machineoptions.max_lambdauser_aliases }}</td>
            <th>{% trans "IPv6 support" %}</th>
            <td>{{ machineoptions.ipv6_mode }}</td>
        </tr>
        <tr>
            <th>{% trans "Creation of machines" %}</th>
            <td>{{ machineoptions.create_machine|tick }}</td>
        </tr>
    </table>
    <h4>{% trans "Topology preferences" %}</h4>
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'OptionalTopologie' %}">
            <i class="fa fa-edit"></i>
            {% trans "Edit" %}
        </a>
    <p>
    </p>
    <table class="table table-striped">
        <tr>
            <th>{% trans "General policy for VLAN setting" %}</th>
            <td>{{ topologieoptions.radius_general_policy }}</td>
            <th>{% trans "This setting defines the VLAN policy after acceptance by RADIUS: either on the IP range's VLAN of the machine, or a VLAN preset in 'VLAN for machines accepted by RADIUS'" %}</th>
            <td></td>
        </tr>
        <tr>
            <th>{% trans "VLAN for machines accepted by RADIUS" %}</th>
            <td>{{ topologieoptions.vlan_decision_ok }}</td>
            <th>{% trans "VLAN for machines rejected by RADIUS" %}</th>
            <td>{{ topologieoptions.vlan_decision_nok }}</td>
        </tr>
    </table>
    <h4>{% trans "General preferences" %}</h4>
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'GeneralOption' %}">
            <i class="fa fa-edit"></i>
            {% trans "Edit" %}
        </a>
    <p>
    </p>
    <table class="table table-striped">
        <tr>
            <th>{% trans "Website name" %}</th>
            <td>{{ generaloptions.site_name }}</td>
            <th>{% trans "Email address for automatic emailing" %}</th>
            <td>{{ generaloptions.email_from }}</td>
        </tr>
        <tr>
            <th>{% trans "Number of results displayed when searching" %}</th>
            <td>{{ generaloptions.search_display_page }}</td>
            <th>{% trans "Number of items per page (standard size)" %}</th>
            <td>{{ generaloptions.pagination_number }}</td>
        </tr>
        <tr>
            <th>{% trans "Number of items per page (large size)" %}</th>
            <td>{{ generaloptions.pagination_large_number }}</td>
            <th>{% trans "Time before expiration of the reset password link (in hours)" %}</th>
            <td>{{ generaloptions.req_expire_hrs }}</td>
        </tr>
        <tr>
            <th>{% trans "General message displayed on the website" %}</th>
            <td>{{ generaloptions.general_message }}</td>
            <th>{% trans "Summary of the General Terms of Use" %}</th>
            <td>{{ generaloptions.GTU_sum_up }}</td>
        </tr>
        <tr>
            <th>{% trans "General Terms of Use" %}</th>
            <td>{{ generaloptions.GTU }}</th>
        </tr>
    </table>
    <h4>{% trans "Information about the organisation" %}</h4>
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'AssoOption' %}">
            <i class="fa fa-edit"></i>
            {% trans "Edit" %}
        </a>
    <p>
    </p>
    <table class="table table-striped">
        <tr>
            <th>{% trans "Name" %}</th>
            <td>{{ assooptions.name }}</td>
            <th>{% trans "SIRET number" %}</th>
            <td>{{ assooptions.siret }}</td>
        </tr>
        <tr>
            <th>{% trans "Address" %}</th>
            <td>{{ assooptions.adresse1  }}<br>
                {{ assooptions.adresse2 }}
            </td>
            <th>{% trans "Contact email address" %}</th>
            <td>{{ assooptions.contact }}</td>
        </tr>
        <tr>
            <th>{% trans "Telephone number" %}</th>
            <td>{{ assooptions.telephone }}</td>
            <th>{% trans "Usual name" %}</th>
            <td>{{ assooptions.pseudo }}</td>
        </tr>
        <tr>
            <th>{% trans "User object of the organisation" %}</th>
            <td>{{ assooptions.utilisateur_asso }}</td>
            <th>{% trans "Description of the organisation" %}</th>
            <td>{{ assooptions.description|safe }}</td>
        </tr>
    </table>
    <h4>{% trans "Custom email message" %}</h4>
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'MailMessageOption' %}">
            <i class="fa fa-edit"></i>
            {% trans "Edit" %}
        </a>
    <p>
    </p>
    <table class="table table-striped">
        <tr>
            <th>{% trans "Welcome email (in French)" %}</th>
            <td>{{ mailmessageoptions.welcome_mail_fr|safe }}</td>
        </tr>
        <tr>
            <th>{% trans "Welcome email (in English)" %}</th>
            <td>{{ mailmessageoptions.welcome_mail_en|safe }}</td>
        </tr>
    </table>
    <h4>{% trans "List of services and homepage preferences" %}</h4>
        {% can_create preferences.Service%}
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:add-service'  %}"><i class="fa fa-plus"></i>{% trans " Add a service" %}</a>
        {% acl_end %}
        <a class="btn btn-danger btn-sm" role="button" href="{% url 'preferences:del-service'  %}"><i class="fa fa-trash"></i>{% trans " Delete one or several services" %}</a>
        {%  include "preferences/aff_service.html" with  service_list=service_list %}
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:edit-options' 'HomeOption' %}">
            <i class="fa fa-edit"></i>
            {% trans "Edit" %}
        </a>
    <h2>{% trans "List of contact email addresses" %}</h2>
        {% can_create preferences.MailContact %}
        <a class="btn btn-primary btn-sm" role="button" href="{% url 'preferences:add-mailcontact'  %}"><i class="fa fa-plus"></i>{% trans "Add an address" %}</a>
        {% acl_end %}
        <a class="btn btn-danger btn-sm" role="button" href="{% url 'preferences:del-mailcontact'  %}"><i class="fa fa-trash"></i>{% trans "Delete one or several addresses" %}</a>
        {%  include "preferences/aff_mailcontact.html" with  mailcontact_list=mailcontact_list %}
    <p>
    </p>
    <table class="table table-striped">
        <tr>
            <th>{% trans "Twitter account URL" %}</th>
            <td>{{ homeoptions.twitter_url }}</td>
            <th>{% trans "Twitter account name" %}</th>
            <td>{{ homeoptions.twitter_account_name }}</td>
        </tr>
        <tr>
            <th>{% trans "Facebook account URL" %}</th>
            <td>{{ homeoptions.facebook_url }}</td>
        </tr>
    </table>
{% endblock %}

