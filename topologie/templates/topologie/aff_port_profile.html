{% load acl %}
{% load i18n %}

<div class="table-responsive">

{% if port_profile_list.paginator %}
{% include "pagination.html" with list=port_profile_list %}
{% endif %}

<table class="table table-striped">
        <tr>
	    <th>{% trans "Nom" %}</th>
	    <th>{% trans "Default pour" %}</th>
	    <th>{% trans "VLANs" %}</th>
	    <th>{% trans "Réglages RADIUS" %}</th>
	    <th>{% trans "Vitesse" %}</th>
	    <th>{% trans "Mac address limit" %}</th>
	    <th>{% trans "Sécurité" %}</th>
	    <th></th>
	</tr>
    </thead>
    {% for port_profile in port_profile_list %}
    <tr>
        <td>{{port_profile.name}}</td>
        <td>{{port_profile.profil_default}}</td>
	<td>
	<b>Untagged : </b>{{port_profile.vlan_untagged}} 
	<br>
	<b>Tagged : </b>{{port_profile.vlan_tagged.all|join:", "}}
	</td>
	<td>
	<b>Type : </b>{{port_profile.radius_type}}
	{% if port_profile.radius_type == "MAC-radius" %}
	<br>
	<b>Mode : </b>{{port_profile.radius_mode}}</td>
	{% endif %}
	<td>{{port_profile.speed}}</td>
	<td>{{port_profile.mac_limit}}</td>
	<td>{{port_profile.security_parameters_enabled|join:"<br>"}}</td>
	<td class="text-right">
	    {% include 'buttons/history.html' with href='topologie:history' name='portprofile' id=port_profile.pk %}
	    {% can_edit port_profile %}
	    {% include 'buttons/edit.html' with href='topologie:edit-port-profile' id=port_profile.pk %}
	    {% acl_end %}
	    {% can_delete port_profile %}
	    {% include 'buttons/suppr.html' with href='topologie:del-port-profile' id=port_profile.pk %}
	    {% acl_end %}
	</td>
    </tr>
    {% endfor %}
</table>

{% if port_profile_list.paginator %}
{% include "pagination.html" with list=port_profile_list %}
{% endif %}

</div>
